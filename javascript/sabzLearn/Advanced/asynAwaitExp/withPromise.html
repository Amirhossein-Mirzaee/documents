<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const userLogin = (username, password) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve({
              username: username,
              password: password,
              email: "amin@gmail.com",
            });
          }, 4000);
        });
      };

      const userCourses = (username) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve([
              { id: 21, title: "Js Expert", price: "Free" },
              { id: 34, title: "Redux Expert", price: "Free" },
            ]);
          }, 3000);
        });
      };

      const mainCourseInfo = (courseTitle) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve({
              id: 34,
              title: "Redux Expert",
              price: "Free",
              teacher: "Saeedi rad",
              student: 2291,
            });
          }, 2000);
        });
      };

      console.log("سایت برای کاربر لود شد");

      // const loginInfos = userLogin('amin_seaadi', '0101', (userObject) => {
      //     console.log('کاربر لاگین شد:', userObject);

      //     userCourses(userObject.username, (userAllCourses) => {
      //         console.log('User Courses: ', userAllCourses);

      //         mainCourseInfo(userAllCourses[1].title, (mainInfos) => {
      //             console.log('Main Course Infos:', mainInfos);
      //         })
      //     })
      // })

      userLogin()
        .then((userObject) => userCourses(userObject.username))
        .then((userAllCourses) => mainCourseInfo(userAllCourses[1].title))
        .then((mainInfos) => console.log(mainInfos));

      console.log("کاربر با موفقیت لاگین شد");
    </script>
  </body>
</html>
